---
export interface Props {
  class?: string;
}

const { class: className = "" } = Astro.props;
---

<div class={`prose prose-lg dark:prose-invert max-w-none ${className}`}>
  <slot />
</div>

<style>
  .prose {
    /* Ensure proper line length for readability */
    max-width: 75ch;
  }
  
  .prose :where(h1):not(:where([class~="not-prose"] *)) {
    @apply text-4xl font-display font-bold tracking-tight mb-8 mt-12;
  }
  
  .prose :where(h2):not(:where([class~="not-prose"] *)) {
    @apply text-3xl font-display font-semibold tracking-tight mb-6 mt-10;
  }
  
  .prose :where(h3):not(:where([class~="not-prose"] *)) {
    @apply text-2xl font-display font-semibold tracking-tight mb-4 mt-8;
  }
  
  .prose :where(h4):not(:where([class~="not-prose"] *)) {
    @apply text-xl font-display font-semibold tracking-tight mb-3 mt-6;
  }
  
  .prose :where(p):not(:where([class~="not-prose"] *)) {
    @apply mb-4 leading-7;
  }
  
  .prose :where(ul, ol):not(:where([class~="not-prose"] *)) {
    @apply mb-4 pl-6;
  }
  
  .prose :where(li):not(:where([class~="not-prose"] *)) {
    @apply mb-2;
  }
  
  .prose :where(blockquote):not(:where([class~="not-prose"] *)) {
    @apply border-l-4 border-primary/20 pl-4 italic text-muted-foreground my-6;
  }
  
  .prose :where(code):not(:where([class~="not-prose"] *)) {
    @apply bg-muted px-1.5 py-0.5 rounded text-sm font-mono;
  }
  
  .prose :where(pre):not(:where([class~="not-prose"] *)) {
    @apply bg-muted rounded-lg p-4 overflow-x-auto my-6;
  }
  
  .prose :where(pre code):not(:where([class~="not-prose"] *)) {
    @apply bg-transparent p-0;
  }
  
  .prose :where(table):not(:where([class~="not-prose"] *)) {
    @apply w-full border-collapse border border-border my-6;
  }
  
  .prose :where(th):not(:where([class~="not-prose"] *)) {
    @apply border border-border bg-muted px-4 py-2 text-left font-semibold;
  }
  
  .prose :where(td):not(:where([class~="not-prose"] *)) {
    @apply border border-border px-4 py-2;
  }
  
  .prose :where(a):not(:where([class~="not-prose"] *)) {
    @apply text-primary hover:text-primary/80 underline underline-offset-4 transition-colors;
  }
  
  .prose :where(strong):not(:where([class~="not-prose"] *)) {
    @apply font-semibold;
  }
  
  .prose :where(em):not(:where([class~="not-prose"] *)) {
    @apply italic;
  }
  
  /* Math display improvements */
  .prose :where(.katex-display):not(:where([class~="not-prose"] *)) {
    @apply my-8;
  }
  
  .prose :where(.katex):not(:where([class~="not-prose"] *)) {
    @apply text-foreground;
  }
</style>
